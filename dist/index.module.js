var e={LEFT:37,UP:38,RIGHT:39,DOWN:40},t=new Map,n=function(n){var o=n.element,d=n.target,c="rtl"===window.getComputedStyle(document.documentElement).direction,v=o.querySelectorAll(d||":scope *"),s=v[0];o.tabIndex=-1,v.forEach(function(e){return e.tabIndex=-1}),s.tabIndex=0,t.set(o,{targets:v,active:s,index:0});var u=function(e){t.get("last_rover")!=o&&(i(o,t.get(o).active),t.set("last_rover",o))};o.addEventListener("focusin",u);var f=function(t){switch(t.keyCode){case e[c?"LEFT":"RIGHT"]:case e.DOWN:t.preventDefault(),r(o);break;case e[c?"RIGHT":"LEFT"]:case e.UP:t.preventDefault(),a(o)}};o.addEventListener("keydown",f),o.addEventListener("DOMNodeRemovedFromDocument",function e(n){o.removeEventListener("focusin",u),o.removeEventListener("keydown",f),o.removeEventListener("DOMNodeRemoved",e),t.delete(o),v.forEach(function(e){return e.tabIndex=""})})},r=function(e){var n=t.get(e);n.index+=1,n.index>n.targets.length-1&&(n.index=n.targets.length-1);var r=n.targets[n.index];r&&i(e,r)},a=function(e){var n=t.get(e);n.index-=1,n.index<1&&(n.index=0);var r=n.targets[n.index];r&&i(e,r)},i=function(e,n){var r=t.get(e);r.active.tabIndex=-1,r.active=n,r.active.tabIndex=0,r.active.focus()};export{n as rovingIndex};
//# sourceMappingURL=index.module.js.map
