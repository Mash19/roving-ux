var e=new Map,t=function(t){var i=t.element,o=i.querySelectorAll(t.target||":scope *"),v=o[0];i.tabIndex=-1,o.forEach(function(e){return e.tabIndex=-1}),v.tabIndex=0,e.set(i,{targets:o,active:v,index:0});var d=function(t){e.get("last_rover")!=i&&(r(i,e.get(i).active),e.set("last_rover",i))};i.addEventListener("focusin",d);var c=function(e){switch(e.keyCode){case 39:case 40:e.preventDefault(),n(i);break;case 37:case 38:e.preventDefault(),a(i)}};i.addEventListener("keydown",c),i.addEventListener("DOMNodeRemovedFromDocument",function t(n){i.removeEventListener("focusin",d),i.removeEventListener("keydown",c),i.removeEventListener("DOMNodeRemoved",t),e.delete(i),o.forEach(function(e){return e.tabIndex=""})})},n=function(t){var n=e.get(t);n.index+=1,n.index>n.targets.length-1&&(n.index=n.targets.length-1);var a=n.targets[n.index];a&&r(t,a)},a=function(t){var n=e.get(t);n.index-=1,n.index<1&&(n.index=0);var a=n.targets[n.index];a&&r(t,a)},r=function(t,n){var a=e.get(t);a.active.tabIndex=-1,a.active=n,a.active.tabIndex=0,a.active.focus()};export{t as rovingIndex};
//# sourceMappingURL=index.module.js.map
