!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).rovingUx={})}(this,function(e){var t={LEFT:37,UP:38,RIGHT:39,DOWN:40},n=new Map,o=function(e,t){var o=n.get(e);o.active.tabIndex=-1,o.active=t,o.active.tabIndex=0,o.active.focus()};e.rovingIndex=function(e){var i=e.element,r=e.target,a="rtl"===window.getComputedStyle(document.documentElement).direction,d=i.querySelectorAll(r||":scope *"),c=d[0];i.tabIndex=-1,d.forEach(function(e){return e.tabIndex=-1}),c.tabIndex=0,n.set(i,{targets:d,active:c,index:0});var v=function(e){n.get("last_rover")!=i&&(o(i,n.get(i).active),n.set("last_rover",i))};i.addEventListener("focusin",v);var s=function(e){switch(e.keyCode){case t[a?"LEFT":"RIGHT"]:case t.DOWN:e.preventDefault(),function(e){var t=n.get(e);t.index+=1,t.index>t.targets.length-1&&(t.index=t.targets.length-1);var i=t.targets[t.index];i&&o(e,i)}(i);break;case t[a?"RIGHT":"LEFT"]:case t.UP:e.preventDefault(),function(e){var t=n.get(e);t.index-=1,t.index<1&&(t.index=0);var i=t.targets[t.index];i&&o(e,i)}(i)}};i.addEventListener("keydown",s),i.addEventListener("DOMNodeRemovedFromDocument",function e(t){i.removeEventListener("focusin",v),i.removeEventListener("keydown",s),i.removeEventListener("DOMNodeRemoved",e),n.delete(i),d.forEach(function(e){return e.tabIndex=""})})}});
//# sourceMappingURL=index.umd.js.map
