!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).rovingUx={})}(this,function(e){var t=new Map,n=function(e,n){var i=t.get(e);i.active.tabIndex=-1,i.active=n,i.active.tabIndex=0,i.active.focus()};e.rovingIndex=function(e){var i=e.element,o=i.querySelectorAll(e.target||":scope *"),a=o[0];i.tabIndex=-1,o.forEach(function(e){return e.tabIndex=-1}),a.tabIndex=0,t.set(i,{targets:o,active:a,index:0});var r=function(e){t.get("last_rover")!=i&&(n(i,t.get(i).active),t.set("last_rover",i))};i.addEventListener("focusin",r);var d=function(e){switch(e.keyCode){case 39:case 40:e.preventDefault(),function(e){var i=t.get(e);i.index+=1,i.index>i.targets.length-1&&(i.index=i.targets.length-1);var o=i.targets[i.index];o&&n(e,o)}(i);break;case 37:case 38:e.preventDefault(),function(e){var i=t.get(e);i.index-=1,i.index<1&&(i.index=0);var o=i.targets[i.index];o&&n(e,o)}(i)}};i.addEventListener("keydown",d),i.addEventListener("DOMNodeRemovedFromDocument",function e(n){i.removeEventListener("focusin",r),i.removeEventListener("keydown",d),i.removeEventListener("DOMNodeRemoved",e),t.delete(i),o.forEach(function(e){return e.tabIndex=""})})}});
//# sourceMappingURL=index.umd.js.map
