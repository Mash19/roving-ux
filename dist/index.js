var e={LEFT:37,UP:38,RIGHT:39,DOWN:40},t=new Map,n=function(e,n){var r=t.get(e);r.active.tabIndex=-1,r.active=n,r.active.tabIndex=0,r.active.focus()};exports.rovingIndex=function(r){var a=r.element,i=r.target,o="rtl"===window.getComputedStyle(document.documentElement).direction,d=a.querySelectorAll(i||":scope *"),c=d[0];a.tabIndex=-1,d.forEach(function(e){return e.tabIndex=-1}),c.tabIndex=0,t.set(a,{targets:d,active:c,index:0});var v=function(e){t.get("last_rover")!=a&&(n(a,t.get(a).active),t.set("last_rover",a))};a.addEventListener("focusin",v);var s=function(r){switch(r.keyCode){case e[o?"LEFT":"RIGHT"]:case e.DOWN:r.preventDefault(),function(e){var r=t.get(e);r.index+=1,r.index>r.targets.length-1&&(r.index=r.targets.length-1);var a=r.targets[r.index];a&&n(e,a)}(a);break;case e[o?"RIGHT":"LEFT"]:case e.UP:r.preventDefault(),function(e){var r=t.get(e);r.index-=1,r.index<1&&(r.index=0);var a=r.targets[r.index];a&&n(e,a)}(a)}};a.addEventListener("keydown",s),a.addEventListener("DOMNodeRemovedFromDocument",function e(n){a.removeEventListener("focusin",v),a.removeEventListener("keydown",s),a.removeEventListener("DOMNodeRemoved",e),t.delete(a),d.forEach(function(e){return e.tabIndex=""})})};
//# sourceMappingURL=index.js.map
