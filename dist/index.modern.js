const e=new Map,t=({element:t,target:c})=>{const d=t.querySelectorAll(c||":scope *"),i=d[0];t.tabIndex=-1,d.forEach(e=>e.tabIndex=-1),i.tabIndex=0,e.set(t,{targets:d,active:i,index:0}),t.addEventListener("focusin",n=>{e.get("last_rover")!=t&&(s(t,e.get(t).active),e.set("last_rover",t))}),t.addEventListener("keydown",e=>{switch(e.keyCode){case 39:case 40:e.preventDefault(),n(t);break;case 37:case 38:e.preventDefault(),a(t)}})},n=t=>{const n=e.get(t);n.index+=1,n.index>n.targets.length-1&&(n.index=n.targets.length-1);let a=n.targets[n.index];a&&s(t,a)},a=t=>{const n=e.get(t);n.index-=1,n.index<1&&(n.index=0);let a=n.targets[n.index];a&&s(t,a)},s=(t,n)=>{const a=e.get(t);a.active.tabIndex=-1,a.active=n,a.active.tabIndex=0,a.active.focus()};export{t as rovingIndex};
//# sourceMappingURL=index.modern.js.map
